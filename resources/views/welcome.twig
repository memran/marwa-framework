{% extends "layout.twig" %}
{% import "components/card.twig" as Card %}

{% block title %}Welcome — MarwaPHP{% endblock %}

{% block content %}
  <!-- HERO -->
  <section class="relative">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-16 md:pt-20">
      <div class="grid md:grid-cols-2 gap-10 place-items-center">
        <div class="text-center md:text-left">
          <p class="inline-flex items-center gap-2 text-xs font-medium tracking-wide uppercase text-brand">
            <span class="h-1.5 w-1.5 rounded-full bg-brand animate-pulse"></span>
            MarwaPHP Framework
          </p>
          <h1 class="mt-4 text-4xl sm:text-5xl font-extrabold tracking-tight leading-tight">
            Build faster with a <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand to-cyan-400">Laravel‑style</span> developer experience
          </h1>
          <p class="mt-4 text-slate-600 dark:text-slate-300">
            Elegant APIs, SOLID foundations, and batteries‑included tooling. Ship delightful apps with MarwaPHP.
          </p>

          <div class="mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start">
            <a href="#starter" class="inline-flex items-center justify-center rounded-xl px-5 py-3 text-sm font-semibold bg-brand text-white shadow-brand hover:shadow-lg transition">
              Get Started
            </a>
            <a href="#docs" class="inline-flex items-center justify-center rounded-xl px-5 py-3 text-sm font-semibold ring-1 ring-slate-300 dark:ring-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition">
              Read Docs
            </a>
          </div>

          <!-- Tiny counters (animated, motion-safe) -->
          <div class="mt-8 grid grid-cols-3 gap-4 text-center md:text-left" x-data="{
              a:0,b:0,c:0,
              start(){ let ease=(t)=>1-Math.pow(1-t,3);
                let run=(k,el,target)=>{
                  let t0=performance.now();
                  let step=(now)=>{
                    let p=Math.min(1,(now-t0)/1200);
                    el.textContent=Math.round(target*ease(p)).toLocaleString();
                    if(p<1) requestAnimationFrame(step);
                  };
                  requestAnimationFrame(step);
                };
                run('a',$refs.a,1200); run('b',$refs.b,35); run('c',$refs.c,15);
              }
            }" x-intersect.once="start()">
            <div>
              <div class="text-2xl font-bold"><span x-ref="a">0</span>+</div>
              <div class="text-xs text-slate-500 dark:text-slate-400">Unit tests</div>
            </div>
            <div>
              <div class="text-2xl font-bold"><span x-ref="b">0</span>ms</div>
              <div class="text-xs text-slate-500 dark:text-slate-400">Boot latency</div>
            </div>
            <div>
              <div class="text-2xl font-bold"><span x-ref="c">0</span>+</div>
              <div class="text-xs text-slate-500 dark:text-slate-400">Core modules</div>
            </div>
          </div>
        </div>

        <!-- Right: floating card stack -->
        <div class="relative w-full">
          <div class="relative mx-auto max-w-md">
            <div class="absolute -inset-8 rounded-3xl bg-gradient-to-r from-brand/20 via-cyan-300/10 to-fuchsia-400/10 blur-2xl"></div>

            <div class="relative space-y-4">
              <div class="rounded-2xl border border-slate-200/70 dark:border-slate-800/70 bg-white/70 dark:bg-slate-900/60 p-5 shadow-lg translate-y-0 md:hover:-translate-y-1 transition">
                <div class="text-xs font-mono text-slate-500 dark:text-slate-400">bootstrap/app.php</div>
                <pre class="mt-2 overflow-auto rounded-lg bg-slate-900 text-slate-100 p-4 text-xs shadow-inner"><code>$app->register(\App\Providers\ViewServiceProvider::class);
$view = view('welcome', ['name' => 'Marwa']);
echo $view;</code></pre>
              </div>

              <div class="rounded-2xl border border-slate-200/70 dark:border-slate-800/70 bg-white/70 dark:bg-slate-900/60 p-5 shadow-lg md:hover:-translate-y-1 transition">
                <div class="text-xs font-mono text-slate-500 dark:text-slate-400">resources/views/welcome.twig</div>
                <pre class="mt-2 overflow-auto rounded-lg bg-slate-900 text-slate-100 p-4 text-xs shadow-inner"><code>{% verbatim %}{% extends "layout.twig" %}
{% block content %}
  &lt;h1&gt;Hello {{ name }}&lt;/h1&gt;
{% endblock %}{% endverbatim %}</code></pre>
              </div>

              <div class="rounded-2xl border border-slate-200/70 dark:border-slate-800/70 bg-white/70 dark:bg-slate-900/60 p-5 shadow-lg md:hover:-translate-y-1 transition">
                <div class="text-xs font-mono text-slate-500 dark:text-slate-400">CLI</div>
                <pre class="mt-2 overflow-auto rounded-lg bg-slate-900 text-slate-100 p-4 text-xs shadow-inner"><code>php artisan serve  # or your MarwaPHP CLI
open http://localhost:8000</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- subtle scroll cue -->
      <div class="mt-14 flex justify-center">
        <a href="#features" class="group inline-flex items-center gap-2 text-sm text-slate-500 hover:text-brand transition">
          <span class="h-1.5 w-1.5 rounded-full bg-slate-400 group-hover:bg-brand animate-pulse"></span>
          Explore features
        </a>
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section id="features" class="mt-24">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-3 gap-6">
        {{ Card.panel(
          'Blade-like Views',
          'Twig with Laravel-style helpers: view(), sections, includes, components, and custom directives.',
          '<svg viewBox="0 0 24 24" class="h-5 w-5 text-brand"><path fill="currentColor" d="M3 5h18v2H3V5m0 6h18v2H3v-2m0 6h18v2H3v-2Z"/></svg>'
        ) }}
        {{ Card.panel(
          'Secure by Default',
          'Escaping, CSRF helpers, method spoofing, and clean form patterns baked in.',
          '<svg viewBox="0 0 24 24" class="h-5 w-5 text-brand"><path fill="currentColor" d="M12 1l9 4v6c0 5-3.8 9.7-9 11-5.2-1.3-9-6-9-11V5l9-4z"/></svg>'
        ) }}
        {{ Card.panel(
          'DX Focused',
          'Fast reload, simple service providers, facades, and SOLID-friendly architecture.',
          '<svg viewBox="0 0 24 24" class="h-5 w-5 text-brand"><path fill="currentColor" d="M12 2a10 10 0 100 20 10 10 0 000-20Zm1 5v5h5v2h-7V7h2Z"/></svg>'
        ) }}
      </div>
    </div>
  </section>

  <!-- STARTER -->
  <section id="starter" class="mt-24">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="rounded-3xl border border-slate-200/70 dark:border-slate-800/70 bg-white/70 dark:bg-slate-900/60 p-8 shadow-lg">
        <h2 class="text-xl font-bold">Start a fresh project</h2>
        <ol class="mt-4 space-y-3 text-sm">
          <li class="flex items-start gap-3">
            <span class="mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-brand/10 text-brand text-xs ring-1 ring-brand/30">1</span>
            <span>Install dependencies and set up your container/service provider stack.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-brand/10 text-brand text-xs ring-1 ring-brand/30">2</span>
            <span>Create <code class="px-1 rounded bg-slate-800/90 text-white">resources/views</code> and add <code>layout.twig</code> + <code>welcome.twig</code>.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="mt-1 inline-flex h-6 w-6 items-center justify-center rounded-full bg-brand/10 text-brand text-xs ring-1 ring-brand/30">3</span>
            <span>Render with <code class="px-1 rounded bg-slate-800/90 text-white">echo view('welcome', ['name' => 'Marwa']);</code></span>
          </li>
        </ol>
      </div>
    </div>
  </section>

  <!-- DOCS -->
  <section id="docs" class="mt-24 mb-16">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-6">
        <div class="rounded-2xl border border-slate-200/70 dark:border-slate-800/70 bg-white/70 dark:bg-slate-900/60 p-6">
          <h3 class="text-lg font-semibold">Typical Controller</h3>
          <pre class="mt-3 overflow-auto rounded-lg bg-slate-900 text-slate-100 p-4 text-xs shadow-inner"><code>class WelcomeController {
  public function index() {
    return view('welcome', ['name' => 'Emran']);
  }
}</code></pre>
        </div>
        <div class="rounded-2xl border border-slate-200/70 dark:border-slate-800/70 bg-white/70 dark:bg-slate-900/60 p-6">
          <h3 class="text-lg font-semibold">Twig Helpers</h3>
          <div class="mt-3 grid sm:grid-cols-2 gap-3 text-sm">
            <div class="rounded-lg bg-slate-100/70 dark:bg-slate-800/70 p-3"><code>{{ '{{ csrf_field() }}' }}</code></div>
            <div class="rounded-lg bg-slate-100/70 dark:bg-slate-800/70 p-3"><code>{{ "{{ method_field('put') }}" }}</code></div>
            <div class="rounded-lg bg-slate-100/70 dark:bg-slate-800/70 p-3"><code>{{ "{{ old('email') }}" }}</code></div>
          
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}
